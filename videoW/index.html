<!doctype html>
<html>
    <head>
        <title>Nagata Shachu in AR</title>
        <meta charset="UTF-8">
        <!-- Need this setting for apple devices -->
        <meta name="apple-mobile-web-app-capable" content="yes">
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
        <!-- Handle Marker detection and video pause -->
        <script src="events.js"></script>
    </head>

    <body style="margin: 0; overflow: hidden;">
        <a-scene
            vr-mode-ui="enabled: false"
            loading-screen="enabled: false;"
            arjs='sourceType: webcam; debugUIEnabled: false;'
            id="scene"
            embedded>
            <a-assets>
                <!-- Tony Nguyen - Okedo Daiko -->
                <video
                    id="tnod"
                    src="assets/v/TNOD_cc.mp4"
                    preload="auto"
                    response-type="arraybuffer"
                    loop
                    crossorigin
                    webkit-playsinline
                    playsinline></video>
                <!-- Naoya Kobayashi - Shime Daiko -->
                <video
                    id="nksd"
                    src="assets/v/NKSD_cc.mp4"
                    preload="auto"
                    response-type="arraybuffer"
                    loop
                    crossorigin
                    webkit-playsinline
                    playsinline></video>

                <!-- Kiyoshi Nagata - Shinobue-->
                <video
                    id="kns"
                    src="./assets/v/KNS_cc.mp4"
                    preload="auto"
                    response-type="arraybuffer"
                    loop
                    crossorigin
                    webkit-playsinline
                    playsinline>
                </video>

                <!-- Aki Takahashi - Shamisen-->
                <video
                    id="ats"
                    src="./assets/v/ATS_cc.mp4"
                    preload="auto"
                    response-type="arraybuffer"
                    loop="false"
                    crossorigin="anonymous"
                    webkit-playsinline
                    playsinline>
                </video>

                <!-- Andrew Siu - Miya / Nagado Daiko-->
                <video
                    id="asnd"
                    src="./assets/v/ASND_cc.mp4"
                    preload="auto"
                    response-type="arraybuffer"
                    loop="false"
                    crossorigin="anonymous"
                    webkit-playsinline
                    playsinline>
                </video>

                <!-- Taiko Model-->
                <a-asset-item
                    id="animated-asset"
                    src="assets/m/asset.gltf">
                </a-asset-item>
            </a-assets>

            <a-marker
                type="pattern"
                preset="custom"
                url="assets/w/okedo.patt"
                vidhandler="video: #tnod"
                id="okedoMkr">
                <a-video
                    id="okedoMdl"
                    src="#tnod"
                    scale="1 1 1"
                    position="0 0.1 0"
                    rotation="-90 0 0">
                </a-video>
            </a-marker>

            <a-marker
                type="pattern"
                preset="custom"
                url="assets/w/shime.patt"
                vidhandler="video: #nksd"
                id="shimeMkr">
                <a-video
                    id="shimeMdl"
                    src="#nksd"
                    scale="1 1 1"
                    position="0 0.1 0"
                    rotation="-90 0 0">
                </a-video>
            </a-marker>

            <a-marker
                type="pattern"
                preset="custom"
                url="assets/w/shinobue.patt"
                vidhandler="video: #kns"
                id="shinobueMkr">
                <a-video
                    id="shinobueMdl"
                    src="#kns"
                    scale="1 1 1"
                    position="0 0.1 0"
                    rotation="-90 0 0">
                </a-video>
            </a-marker>

            <a-marker
                type="pattern"
                preset="custom"
                url="assets/w/shamisen.patt"
                vidhandler="video: #ats"
                id="shamisenMkr">
                <a-video
                    id="shamisenMdl"
                    src="#ats"
                    scale="1 1 1"
                    position="0 0.1 0"
                    rotation="-90 0 0">
                </a-video>
            </a-marker>

            <a-marker
                type="pattern"
                preset="custom"
                url="assets/w/miya.patt"
                vidhandler="video: #asnd"
                id="miyaMkr">
                <a-video
                    id="miyaMdl"
                    src="#asnd"
                    scale="1 1 1"
                    position="0 0.1 0"
                    rotation="-90 0 0">
                </a-video>
            </a-marker>

            <a-marker
                type="pattern"
                preset="custom"
                url="assets/m/marker.patt"
                id="markerA">
                <a-entity
                    id="bowser-model"
                    scale="0.020080905977123838 0.020080905977123838 0.020080905977123838"
                    rotation="90 180 360"
                    gltf-model="#animated-asset">
                </a-entity>
            </a-marker>

            <a-entity camera></a-entity>
        </a-scene>
        <script>
          window.addEventListener('click', function(){
            var a = document.querySelector('#tnod');
            var b = document.querySelector('#nksd');
            var c = document.querySelector('#kns');
            var d = document.querySelector('#ats');
            var e = document.querySelector('#asnd');
            if (a.paused == true) {a.play();} else {a.pause();}
            if (b.paused == true) {b.play();} else {b.pause();}
            if (c.paused == true) {c.play();} else {c.pause();}
            if (d.paused == true) {d.play();} else {d.pause();}
            if (e.paused == true) {e.play();} else {e.pause();}
          });
        </script>
    </body>
</html>
